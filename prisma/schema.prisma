generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Jobs {
  id                   String   @id @default(auto()) @map("_id") @db.ObjectId
  title                String
  company              String
  location             String
  jobLink              String
  postedDate           String?
  hiringStatus         String?
  salary               String?
  scrapedAt            String
  keyword              String?
  companyLogoURL       String?
  companyPageURL       String?
  isXPosted            Boolean  @default(false)
  isSimilarJobsUpdated Boolean  @default(false)
  updatedAt            DateTime @updatedAt

  @@unique([title, company, location], name: "JobUniqueIndex")
}

model JobsTemp {
  id                   String   @id @default(auto()) @map("_id") @db.ObjectId
  title                String
  company              String
  location             String
  jobLink              String
  postedDate           String?
  hiringStatus         String?
  salary               String?
  scrapedAt            String
  keyword              String?
  companyLogoURL       String?
  companyPageURL       String?
  isXPosted            Boolean  @default(false)
  isSimilarJobsUpdated Boolean  @default(false)
  updatedAt            DateTime @updatedAt

  @@unique([title, company, location], name: "JobUniqueIndex")
}

model MetaData {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  totalJobs               Int
  totalXPostedJobs        Int
  totalSimilarJobsUpdated Int

  createdAt DateTime @default(now())
}
