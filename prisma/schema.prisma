generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Jobs {
  id                   String   @id @default(auto()) @map("_id") @db.ObjectId
  title                String
  company              String
  location             String
  jobLink              String
  postedDate           String?
  hiringStatus         String?  @default("Actively hiring")
  salary               String?
  keyword              String?
  companyLogoURL       String?
  companyPageURL       String?
  jobType              JobType?
  workMode             WorkMode?
  isXPosted            Boolean  @default(false)
  isTelegramPosted     Boolean  @default(false)
  isLinkedInPosted     Boolean  @default(false)
  isInstagramPosted    Boolean  @default(false)
  isSimilarJobsUpdated Boolean  @default(false)
  visitCount           Int      @default(0)
  scrapedAt            String
  updatedAt            DateTime @updatedAt

  @@unique([title, company, location], name: "JobUniqueIndex")
}

model JobsTemp {
  id                   String   @id @default(auto()) @map("_id") @db.ObjectId
  title                String
  company              String
  location             String
  jobLink              String
  postedDate           String?
  hiringStatus         String?  @default("Actively hiring")
  salary               String?
  keyword              String?
  companyLogoURL       String?
  companyPageURL       String?
  jobType              JobType?
  workMode             WorkMode?
  isXPosted            Boolean  @default(false)
  isTelegramPosted     Boolean  @default(false)
  isLinkedInPosted     Boolean  @default(false)
  isInstagramPosted    Boolean  @default(false)
  isSimilarJobsUpdated Boolean  @default(false)
  visitCount           Int      @default(0)
  scrapedAt            String
  updatedAt            DateTime @updatedAt

  @@unique([title, company, location], name: "JobUniqueIndex")
}

model MetaData {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  totalJobs               Int
  totalXPostedJobs        Int
  totalSimilarJobsUpdated Int

  createdAt DateTime @default(now())
}

enum JobType {
  FullTime
  PartTime
  Internship
}

enum WorkMode {
  Onsite
  Remote
  Hybrid
}
